<!-- src/app/layout/sidebar/sidebar.component.html -->

<aside class="sidebar">

  <div class="logo">
    <h2>üç¥ {{ titulo }}</h2>
    <p>{{ subtitulo }}</p>
  </div>

  <nav class="menu">
    <div *ngFor="let item of menuItems" class="menu-wrapper">
      
      <a 
        *ngIf="!item.subItems"
        [routerLink]="item.path" 
        routerLinkActive="active"
        [routerLinkActiveOptions]="{exact: false}"
        class="menu-item">
        <i class="bi {{ item.icon }}"></i>
        <span class="label">{{ item.label }}</span>
      </a>

      <div *ngIf="item.subItems" class="menu-group">

        <button 
          class="menu-item menu-item-expandable"
          [class.expanded]="isSubmenuExpanded(item.label)"
          (click)="toggleSubmenu(item.label)">
          <i class="bi {{ item.icon }}"></i>
          <span class="label">{{ item.label }}</span>
          <i class="bi bi-chevron-down submenu-arrow"></i>
        </button>

        <div class="submenu" *ngIf="isSubmenuExpanded(item.label)">
          <a 
            *ngFor="let subItem of item.subItems"
            [routerLink]="subItem.path" 
            routerLinkActive="active"
            [routerLinkActiveOptions]="{exact: false}"
            class="submenu-item">
            <i class="bi {{ subItem.icon }}"></i>
            <span class="label">{{ subItem.label }}</span>
          </a>
        </div>
      </div>

    </div>
  </nav>

  <div class="logout">
    <button (click)="logout()">
      <i class="bi bi-box-arrow-right"></i> Cerrar Sesi√≥n
    </button>
  </div>
</aside>
